function checkForNotifications(){$.getJSON("https://raw.githubusercontent.com/Christianjuth/calculator-browser-extension/JSON/notifications.json",function(t){for(t.sort(compare),i=0;i<t.length;i++){var o=t[i],a=$.parseJSON(localStorage.notify),e=parseInt(moment(a.date,"YYYYMMDD").add("days",a.delay).format("YYYYMMDD"))<=parseInt(moment().format("YYYYMMDD")),r=o.id==parseInt($.parseJSON(localStorage.notify).id)+1;if(o.id>$.parseJSON(localStorage.notify).id){if("true"==localStorage.noNotifyDelay&&"false"==localStorage.limitNotifications&&r){createNotification(o.title,o.message),a.id=o.id,a.date=moment().format("YYYYMMDD"),a.delay=Math.floor(4*Math.random()+3),localStorage.notify=JSON.stringify(a);break}if(e&&"false"==localStorage.limitNotifications){createNotification(o.title,o.message),a.id=o.id,a.date=moment().format("YYYYMMDD"),a.delay=Math.floor(4*Math.random()+3),localStorage.notify=JSON.stringify(a);break}if("true"==localStorage.limitNotifications&&1==o.important&&e){createNotification(o.title,o.message),a.id=o.id,a.date=moment().format("YYYYMMDD"),a.delay=Math.floor(4*Math.random()+3),localStorage.notify=JSON.stringify(a);break}}}setTimeout(function(){checkForNotifications()},3e5)})}function createNotification(t,i){var o={type:"basic",title:t,message:i,iconUrl:"../resources/icons/icon.png"};chrome.notifications.create("",o,function(){})}function compare(t,i){return t.id<i.id?-1:t.id>i.id?1:0}$(document).ready(function(){checkForNotifications()});
